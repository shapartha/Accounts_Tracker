<div class="container mt-2" id="all-transactions-section">
    <h3>{{ transactionHeader }}</h3>
    @for (transaction of transactions; track transaction) {
    <div [contextMenu]="oneContextMenu" [contextMenuValue]="transaction"
        [classList]="getMoneyVal(transaction, 'transaction-item ps-2 pe-2 pt-2 ', 'bg-danger-subtle', 'bg-success-subtle')">
        <div class="row">
            <div class="col-sm-6 font-weight-bold" style="font-size: 16px;">{{ transaction.description }}</div>
            <div class="col-sm-6 text-end">
                <mat-icon *ngIf="transaction.is_delivered == '1'" class="text-end"
                    style="color: green;">shopping_cart</mat-icon>
                <mat-icon
                    *ngIf="transaction.is_delivery_order == '1' && (transaction.is_delivered == undefined || transaction.is_delivered == '0')"
                    class="text-end" style="color: grey;">add_shopping_cart</mat-icon>
                <mat-icon *ngIf="transaction.receiptImgId != null" class="text-end">image</mat-icon>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">{{ transaction.acc_name }}</div>
            <div class="col-sm-4 text-center">{{ transaction.date }}</div>
            <div style="font-size: 16px;"
                [classList]="getMoneyVal(transaction, 'col-sm-4 text-end font-weight-bold ', 'negative-val', 'positive-val')">
                {{ transaction.amount }}
            </div>
        </div>
    </div>
    }
    <div *ngIf="transactions == null || transactions.length == 0" class="no-trans-header">
        No transactions available for the selected filter. Please change the selection filter to view transactions.
    </div>
    <div *ngIf="transactions != null && transactions.length > 0" class="text-center paginator mt-3">
        <span class="pe-3">Showing {{ (transactionStartOffset + 1) }} - {{ transactionStartOffset + noOfRecordsFetched
            }} of {{ totalRecords }} records </span>
        <div class="btn-group" role="group" aria-label="Navigator">
            <button type="button" class="btn btn-outline-primary" (click)="prev()"
                [disabled]="disablePrev">&lt;</button>
            <button type="button" class="btn btn-outline-primary" (click)="next()"
                [disabled]="disableNext">&gt;</button>
        </div>
    </div>
</div>

<context-menu #oneContextMenu [menuClass]="'app-trans-context-menu'">
    <ng-template contextMenuItem (execute)="update($event)" let-value>Update</ng-template>
    <ng-template [visible]="showDeleteCopy" contextMenuItem (execute)="update($event)" let-value>Delete</ng-template>
    <!-- <ng-template contextMenuItem (execute)="update($event)" let-value>Generate Bill</ng-template> -->
    <ng-template [visible]="showRedeem" contextMenuItem (execute)="update($event)" let-value>Redeem All</ng-template>
    <ng-template [visible]="showRedeem" contextMenuItem (execute)="update($event)" let-value>Redeem Partial</ng-template>
    <ng-template [visible]="showMarkDelivery" contextMenuItem (execute)="update($event)" let-value>Mark as Delivery Order</ng-template>
    <ng-template [visible]="showUnmarkSetDelivery" contextMenuItem (execute)="update($event)" let-value>Unmark as Delivery Order</ng-template>
    <ng-template [visible]="showUnmarkSetDelivery" contextMenuItem (execute)="update($event)" let-value>Set Order Delivered</ng-template>
    <ng-template [visible]="showDeleteCopy" contextMenuItem (execute)="update($event)" let-value>Copy to New Transaction</ng-template>
    <!-- <ng-template contextMenuItem (execute)="update($event)" let-value>Process Now</ng-template>
    <ng-template contextMenuItem (execute)="update($event)" let-value>Remove</ng-template>
    <ng-template contextMenuItem (execute)="update($event)" let-value>Postpone Tomorrow</ng-template>
    <ng-template contextMenuItem (execute)="update($event)" let-value>Skip Current Occurrence</ng-template>
    <ng-template contextMenuItem (execute)="update($event)" let-value>Update</ng-template>
    <ng-template contextMenuItem (execute)="update($event)" let-value>Process Now</ng-template>
    <ng-template contextMenuItem (execute)="update($event)" let-value>Pause</ng-template> -->
</context-menu>